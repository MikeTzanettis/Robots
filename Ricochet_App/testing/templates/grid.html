




<html>
  <head>
    	<title> Game Information </title>
    	<meta charset="UTF-8">
        <link rel="shortcut icon" href="#">
        
  </head>
  <style>
	.game-board {
		display:grid;
		grid-template: repeat(16, 50px) / repeat(16, 50px);
	}
	body {
		display: flex;
		justify-content: center;
	}
	.box15 {
  		background: rgb(0, 0, 0);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
	.box14 {
  		background: rgb(255, 254, 254);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 1px solid rgb(131, 130, 130);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(207, 198, 198);
    }
    .box13 {
  		background: rgb(255, 255, 255);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box12 {
  		background: rgb(214, 211, 211);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box11 {
  		background: rgb(214, 211, 211);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box10 {
  		background: rgb(214, 211, 211);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box9 {
  		background: rgb(214, 211, 211);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 1px solid rgb(134, 111, 111);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box8 {
  		background: rgb(214, 211, 211);
  		border-top: 4px solid rgb(19, 18, 18);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box7 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box6 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box5 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box4 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 4px solid rgb(19, 18, 18);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box3 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box2 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 4px solid rgb(19, 18, 18);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box1 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 4px solid rgb(10, 9, 9);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .box0 {
  		background: rgb(214, 211, 211);
  		border-top: 1px solid rgb(151, 148, 148);
		border-right: 1px solid rgb(151, 148, 148);
		border-bottom: 1px solid rgb(151, 148, 148);
		border-left: 1px solid rgb(151, 148, 148);
  		display: flex;
  		align-items: center;
  		justify-content: center;
  		color: rgb(224, 218, 218);
    }
    .image {
        width:30px
    }
  </style>
  <body>
    
	<div id="gameinfo"> </div>
    	<script>
      		var baseurl = "http://192.168.1.5:8000/api/games";
      		function loadGames() {
        			var xmlhttp = new XMLHttpRequest();
        			xmlhttp.open("GET",baseurl);
        			xmlhttp.onreadystatechange = function() {
          			if(xmlhttp.readyState ===4 && xmlhttp.status ===200) {
            				var games = JSON.parse(xmlhttp.responseText);
            				var tbltop = `<table>
			    				<tr><th>ID</th><th>Turn</th><th>Status</th><th>Targets left</th></tr>`;
            				//main table content we fill from data from the rest call
            				var main ="";
            				for (i = 0; i < games.length; i++){
              					main += "<tr><td>"+games[i].id+"</td><td>"+games[i].turn_number+"</td><td>"+games[i].status+"</td><td>"+games[i].targets_remaining+"</td></tr>";
            				}
            				var tblbottom = "</table>";
            				var tbl = tbltop + main + tblbottom;
            				document.getElementById("gameinfo").innerHTML = tbl;
          			}
        			};
        			xmlhttp.send();
      		}
      		window.onload = function(){

        			loadGames();
      		}
    	</script>

        

	<div id="grid"> </div>
    	<script>


		   
            	
            	
            var squareurl = "http://192.168.1.5:8000/api/squares"
            function loadGames() {
        			var xmlhttp = new XMLHttpRequest();
        			xmlhttp.open("GET",squareurl);
        			xmlhttp.onreadystatechange = function() {
          			if(xmlhttp.readyState ===4 && xmlhttp.status ===200) {
            				var squares = JSON.parse(xmlhttp.responseText);
                            
            				var html = `<div class=game-board>`
                                var obstacles=new Array(256)
                                var images=new Array(256)
                                for(var i in squares){
                                    obstacles[squares[i].posx*16+squares[i].posy]=squares[i].obstacle
                                    images[squares[i].posx*16+squares[i].posy]=squares[i].color +"_"+squares[i].symbol
                                }
                                for (i = 0; i < 256; i++){
                                    imageurl="http://192.168.1.5:8000/media/"+images[i]+".png"
                                    var image="/test.jpg"
              		                html += `<div class="box`+obstacles[i].toString()+`" ><img class="image" src=${image}></div>`
            	                    }
            	                html += `</div>`;
                                
                                document.getElementById("grid").innerHTML = html;
                                
            				//main table content we fill from data from the rest call
            				// var main ="";
            				// for (i = 0; i < games.length; i++){
              				// 	main += "<tr><td>"+games[i].id+"</td><td>"+games[i].turn_number+"</td><td>"+games[i].status+"</td><td>"+games[i].targets_remaining+"</td></tr>";
            				// }
            				// var tblbottom = "</table>";
            				// var tbl = tbltop + main + tblbottom;
            				// document.getElementById("gameinfo").innerHTML = tbl;
          			}
        			};
        			xmlhttp.send();
      		}
      		window.onload = function(){

        			loadGames();
      		}

    	</script>



  </body>
</html>
